# Авторизация и интерфейс IAccessPanel
Для того, чтобы начать работу с сервером, необходимо авторизоваться. Авторизация реализована достаточно просто - для этой задачи предусмотрен интерфейс IAccessPanel:
```protobuf
message IAccessPanel {

  message LoginRequest {
    string login    = 1;
    string password = 2;
    string ip       = 3;
    uint32 port     = 4;
  }
  
  oneof choice {
    LoginRequest login     = 1;
    
    uint32 access_granted  = 21;
    string access_rejected = 22;
  }
}
```

Содержит следующие внутренние типы:
  - **LoginRequest** - тип для команды **login**; содержит следующие поля:
	  - **login** - имя пользователя;
	  - **password** - пароль для доступа;
	  - **ip:port** - IP-адрес (IPv4) и порт, с которого сервер должен принимать сообщения; все сообщения полученные с другого адреса будут проигнорированы.

Данный интерфейс имеет единственную команду **login**. Эта команда должна быть отправлена на IP:Port, на котором сервер принимает запросы на авторизацию. Их можно уточнить у администратора сервера (указываются в настройках сервера при его запуске).

> Напомню, что прежде чем отправить сообщение LoginRequest, его необходимо обернуть в сообщение IAccessPanel, которое, в свою очередь, нужно обернуть в сообщение Message! Подробнее см. ["Общие сведения о протоколе взаимодействия"](protocol-general.md)

В ответ сервер может отправить одно из двух сообщений:
  - **access_granted** - сообщает об успешной авторизации; содержащее порт на который необходимо отправлять все последующие сообщения;
  - **access_rejected** - сообщает об ошибке авторизации, содержащее описание ошибки.

После успешной авторизации сервер открывает UDP-порт на порту который был передан в ответе **access_granted** и ожидает сообщения от отправителя **IP:Port**, которые были указаны в **login**.
